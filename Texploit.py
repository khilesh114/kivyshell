import subprocess
import random
# List of colors
colors = ['red', 'green', 'yellow', 'blue', 'magenta', 'cyan']

# Function to change text color randomly
def change_text_color(text):
    # Select a random color
    color = random.choice(colors)
    # Print the text in the selected color
    print(f"\033[0;{31 + colors.index(color)}m{text}\033[0m")

# Example usage
text = """
 _______           _______  _        _______ __________________
(  ____ \|\     /|(  ____ )( \      (  ___  )\__   __/\__   __/
| (    \/( \   / )| (    )|| (      | (   ) |   ) (      ) (   
| (__     \ (_) / | (____)|| |      | |   | |   | |      | |   
|  __)     ) _ (  |  _____)| |      | |   | |   | |      | |   
| (       / ( ) \ | (      | |      | |   | |   | |      | |   
| (____/\( /   \ )| )      | (____/\| (___) |___) (___   | |   
(_______/|/     \||/       (_______/(_______)\_______/   )_(   
 
                     █▓▒▒░░░made by khilesh░░░▒▒▓█
                                                               
"""

# Print the text with random color
change_text_color(text)

# Execute the command to get IP addresses and save them to ip_addresses.txt
subprocess.run("ifconfig | grep -o '[0-9]\+\.[0-9]\+\.[0-9]\+\.[0-9]\+' > ip_addresses.txt", shell=True)

# Read the first line from ip_addresses.txt
with open("ip_addresses.txt", "r") as file:
    first_line = file.readline().strip()

# Remove the trailing "0" from the first IP address
ip1 = first_line[:-1] if first_line.endswith("0") else first_line

# Assuming you have a second IP address stored somewhere, let's say as "second_line"
second_line = "127.0.0.1"  # Example second IP address

# Remove the trailing "0" from the second IP address
ip2 = second_line[:-1] if second_line.endswith("0") else second_line

# Write the first IP address to ip_addressethiss.txt
with open("ip_addressethiss.txt", "w") as file:
    file.write(f"{ip1}\n")

# Print the banner
banner = f"""
First  IP: {ip1} Use Ip Enter f         # using wifi ip address
Second IP: {ip2}      Use IP press s    # using local ip address

"""
print(banner)
user = input("Enter Your Choice :-")
if user == "f":
    f = (f"{ip1}")

# Define the command to start the PHP server
    command = f"php -S {ip1}:8000"
    print(f"open your fevret braswer http://{ip1}:8000/?command=ls")

# Run the command as a subprocess with output redirection to server.log
    with open("server.log", "a") as log_file:
        subprocess.run(command, shell=True, stdout=log_file, stderr=subprocess.STDOUT)

elif user == "s":
    s = (f"{ip2}")
    command = "php -S localhost:8000"
    print(f"open your fevrate web braswer ur= http://127.0.0.1:8000/?command=ls")

# Run the command as a subprocess with output redirection to server.log
    with open("server.log", "a") as log_file:
        subprocess.run(command, shell=True, stdout=log_file, stderr=subprocess.STDOUT)
elif user == "":
    d = (f"{ip2}")
else:
    print("by")



